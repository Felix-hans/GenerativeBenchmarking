import "fmt"

func isPossibleToCutPath(grid [][]int) bool {
    m := len(grid)
    n := len(grid[0])
    
    // Create a visited matrix to keep track of visited cells
    visited := make([][]bool, m)
    for i := 0; i < m; i++ {
        visited[i] = make([]bool, n)
    }
    
    // DFS function to check if there is a path from (0, 0) to (m-1, n-1)
    var dfs func(row, col int) bool
    dfs = func(row, col int) bool {
        // Mark the current cell as visited
        visited[row][col] = true
        
        // If we reach the destination cell, return true
        if row == m-1 && col == n-1 {
            return true
        }
        
        // Check if we can move to the cell below
        if row+1 < m && grid[row+1][col] == 1 && !visited[row+1][col] {
            if dfs(row+1, col) {
                return true
            }
        }
        
        // Check if we can move to the cell on the right
        if col+1 < n && grid[row][col+1] == 1 && !visited[row][col+1] {
            if dfs(row, col+1) {
                return true
            }
        }
        
        return false
    }
    
    // Check if there is a path from (0, 0) to (m-1, n-1)
    if dfs(0, 0) {
        return false
    }
    
    // If there is no path, try flipping each cell once and check if there is still no path
    for i := 0; i < m; i++ {
        for j := 0; j < n; j++ {
            // Flip the cell (change 1 to 0 or 0 to 1)
            grid[i][j] = 1 - grid[i][j]
            
            // Reset the visited matrix
            for k := 0; k < m; k++ {
                for l := 0; l < n; l++ {
                    visited[k][l] = false
                }
            }
            
            // Check if there is a path from (0, 0) to (m-1, n-1) after flipping the current cell
            if !dfs(0, 0) {
                return true
            }
            
            // Restore the original value of the cell
            grid[i][j] = 1 - grid[i][j]
        }
    }
    
    return false
}

func main() {
    grid1 := [][]int{{1,1,1},{1,0,0},{1,1,1}}
    fmt.Println(isPossibleToCutPath(grid1)) // Output: true
    
    grid2 := [][]int{{1,1,1},{1,0,1},{1,1,1}}
    fmt.Println(isPossibleToCutPath(grid2)) // Output: false
}